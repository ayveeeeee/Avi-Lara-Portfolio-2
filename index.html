<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Minimal Case Study Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/svg+xml" href="img/avi brand logo.svg" />
  <style>
    @font-face {
      font-family: 'Awesome';
      src: url('fonts/awesome-light.otf') format('opentype');
      font-weight: 300;
      font-style: normal;
    }
    
    @font-face {
      font-family: 'Awesome';
      src: url('fonts/awesome-medium.otf') format('opentype');
      font-weight: 500;
      font-style: normal;
    }

    @font-face {
      font-family: 'Freight Text Pro Semibold';
      src: url('fonts/fonnts.com-Freight-Text-Pro-Semibold-.otf') format('opentype');
      font-weight: 600;
      font-style: normal;
    }

    @font-face {
      font-family: 'Manrope-Medium';
      src: url('fonts/Manrope-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }

    :root {
      --bg: #f5f5f7;
      --bg-elevated: #ffffff;
      --bg-gradient-start: #ffffff;
      --bg-gradient-end: #f5f5f7;
      --border-subtle: rgba(0, 0, 0, 0);
      --text-main: #2f332f;
      --text-muted: #7a7a80;
      --accent: #0071e3;
      --accent-soft: rgba(0, 113, 227, 0.08);
      --nav-bg: rgba(245, 245, 247, 0.55);
      --nav-bg-scrolled: rgba(245, 245, 247, 0.75);
      --card-bg-start: rgba(255, 255, 255, 0.95);
      --card-bg-end: rgba(250, 250, 252, 0.98);
      --case-card-bg-start: #ffffff;
      --case-card-bg-end: #f7f7fa;
      --case-visual-bg-start: #e5f1ff;
      --case-visual-bg-end: #f5f5f7;
      --logo-bg: rgba(255, 255, 255, 0.9);
      --pill-bg: rgba(230, 230, 235, 0.9);
      --shadow-sm: 0 0 0 1px rgba(255, 255, 255, 0.7), 0 6px 12px rgba(0, 0, 0, 0.12);
      --shadow-md: 0 14px 40px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 16px 40px rgba(0, 0, 0, 0.03);
      --shadow-xl: 0 20px 55px rgba(0, 0, 0, 0.06);
      --radius-lg: 20px;
      --radius-xl: 28px;
      --transition-fast: 180ms ease-out;
      /* Case-study accent mirrors */
      --case1-accent: #E57714;
      --case1-accent-soft: rgba(229, 119, 20, 0.15);
      --case2-accent: #c7cdd6;
      --case2-accent-soft: rgba(199, 205, 214, 0.3);
      --case3-accent: #e67e80;
      --case3-accent-soft: rgba(230, 126, 128, 0.15);
    }

    body.dark-mode {
      --bg: #0a0a0f;
      --bg-elevated: #1a1a24;
      --bg-gradient-start: #1a1a24;
      --bg-gradient-end: #0a0a0f;
      --text-main: #e8e8ed;
      --text-muted: #9a9aa5;
      --accent: #4a9eff;
      --accent-soft: rgba(74, 158, 255, 0.15);
      --nav-bg: rgba(10, 10, 15, 0.55);
      --nav-bg-scrolled: rgba(10, 10, 15, 0.75);
      --card-bg-start: rgba(26, 26, 36, 0.95);
      --card-bg-end: rgba(20, 20, 30, 0.98);
      --case-card-bg-start: #1a1a24;
      --case-card-bg-end: #12121a;
      --case-visual-bg-start: #1e2a3f;
      --case-visual-bg-end: #0f1419;
      --logo-bg: rgba(26, 26, 36, 0.9);
      --pill-bg: rgba(26, 26, 36, 0.9);
      --shadow-sm: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 6px 12px rgba(0, 0, 0, 0.4);
      --shadow-md: 0 14px 40px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 16px 40px rgba(0, 0, 0, 0.2);
      --shadow-xl: 0 20px 55px rgba(0, 0, 0, 0.4);
    }


    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    html,
    body {
      height: 100%;
    }

    body {
      font-family: "Manrope-Medium", system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Helvetica Neue", Arial, sans-serif;
      background: radial-gradient(circle at top, var(--bg-gradient-start) 0, var(--bg-gradient-end) 52%);
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;
      padding-top: 72px;
      padding-bottom: 0;
      transition: background 0.3s ease, color 0.3s ease, background-image 0.3s ease;
      cursor: none;
    }

    /* Paper texture background - light mode only */
    body:not(.dark-mode) {
      background-image: 
        url('textures/paper-texture-light.png'),
        radial-gradient(circle at top, var(--bg-gradient-start) 0, var(--bg-gradient-end) 52%);
      background-repeat: repeat, no-repeat;
      background-size: 400px 400px, 100% 100%;
      background-position: 0 0, center;
    }

    /* Dark mode - no texture, keep existing gradient */
    body.dark-mode {
      background-image: radial-gradient(circle at top, var(--bg-gradient-start) 0, var(--bg-gradient-end) 52%);
      background-repeat: no-repeat;
      background-size: 100% 100%;
    }

    body.transitioning {
      overflow: hidden;
    }

    /* Global heading styles - ensure all headings use Freight Text Pro Semibold */
    h1, h2, h3 {
      font-family: 'Freight Text Pro Semibold', serif;
      font-weight: 600;
    }

    /* Custom Cursor */
    * {
      cursor: none !important;
    }
    
    .custom-cursor {
      position: fixed;
      width: 20px;
      height: 20px;
      border-radius: 9999px;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
      background: #ffffff;
      mix-blend-mode: difference;
      will-change: transform;
    }

    body.hovering-link .custom-cursor {
      transform: translate(-50%, -50%) scale(1.3);
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      max-width: 100%;
      display: block;
    }

    /* NAVBAR */
    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      display: flex;
      justify-content: center;
      padding: 24px 48px;
      pointer-events: none;
      transition: all 0.35s ease;
    }

    .nav__inner {
      width: 100%;
      max-width: 1120px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
      padding-bottom: 16px;
      pointer-events: auto;
      background: transparent;
      transition: all 0.35s ease;
    }

    body.dark-mode .nav__inner {
      border-bottom: 1px solid rgba(255, 255, 255, 0.12);
    }

    /* Floating pill state */
    .nav.nav--floating {
      top: 0;
    }

    .nav.nav--floating .nav__inner {
      max-width: 760px;
      padding: 10px 24px;
      border-bottom: none;
      border-radius: 999px;
      background: rgba(230, 230, 235, 0.9);
      border: 1px solid rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.16);
    }

    body.dark-mode .nav.nav--floating .nav__inner {
      background: rgba(20, 20, 25, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.5);
    }

    .nav-left,
    .nav-right {
      display: flex;
      align-items: center;
      gap: 24px;
      transition: gap 0.25s ease;
    }

    .nav-center {
      display: flex;
      align-items: center;
      gap: 24px;
      transition: gap 0.25s ease;
    }

    .nav.nav--floating .nav-left,
    .nav.nav--floating .nav-right {
      gap: 16px;
    }

    .nav.nav--floating .nav-center {
      gap: 16px;
    }

    .nav.nav--floating .nav-left {
      padding-right: 20px;
      margin-right: 16px;
      border-right: 1px solid rgba(0, 0, 0, 0.08);
    }

    body.dark-mode .nav.nav--floating .nav-left {
      border-right-color: rgba(255, 255, 255, 0.12);
    }

    .brand-logo-link {
      display: inline-flex;
      align-items: center;
    }

    .dark-mode-toggle {
      width: 36px;
      height: 36px;
      border-radius: 999px;
      background: var(--logo-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform var(--transition-fast), background var(--transition-fast);
    }

    .dark-mode-toggle:hover {
      transform: scale(1.1);
    }

    .dark-mode-toggle svg {
      width: 18px;
      height: 18px;
      transition: transform 0.3s ease;
    }

    .dark-mode-toggle:active svg {
      transform: rotate(180deg);
    }

    .brand-logo {
      height: 40px;
      width: auto;
      display: block;
    }

    .nav-link-group {
      display: flex;
      gap: 24px;
      font-size: 15px;
      color: var(--text-main);
    }

    .nav-link {
      font-family: "Manrope-Medium", system-ui, sans-serif;
      position: relative;
      padding: 4px 0;
      cursor: pointer;
    }

    .nav-link::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -4px;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: #c92380;
      transition: width var(--transition-fast);
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-link.nav-link--primary {
      padding: 6px 14px;
      border-radius: 999px;
      background: #c92380;
      color: var(--bg-elevated);
      font-size: 14px;
      transition: opacity var(--transition-fast), background var(--transition-fast);
    }

    .nav-link.nav-link--primary:hover {
      opacity: 0.85;
      background: #b01e6f;
    }

    .nav-link.nav-link--primary::after {
      display: none;
    }

    /* LAYOUT HELPERS */
    .page {
      max-width: 90%;
      margin: 0 auto;
      padding: 0 20px 80px;
    }

    .page > .hero {
      padding-top: 0;
      padding-bottom: 0;
    }

    section {
      margin-bottom: 72px;
    }

    #case-studies {
      margin-top: 0;
    }

    /* HERO */
    .hero {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 24px;
      height: calc(100vh - 72px);
      min-height: calc(100vh - 72px);
      padding: 0 20px;
      margin: 0;
      box-sizing: border-box;
    }

    .hero-kicker {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .hero-kicker-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #34c759;
      box-shadow: 0 0 0 4px rgba(52, 199, 89, 0.18);
    }

    .hero-title {
      position: relative;
      display: inline-block;
      font-family: 'Freight Text Pro Semibold', serif;
      font-weight: 600;
      font-size: clamp(64px, 8vw, 120px);
      line-height: 1.08;
      letter-spacing: -0.04em;
      text-align: center;
      max-width: 30ch;
    }

    /* Top text ‚Äì what the user sees */
    .hero-title-main {
      position: relative;
      z-index: 2;
      color: var(--text-main);
    }

    /* Bottom layer ‚Äì thick white outline + shadow to mimic a sticker */
    .hero-title-outline {
      position: absolute;
      inset: 0;
      z-index: 1;
      color: transparent;
      /* Thicker, rounder white halo */
      -webkit-text-stroke: 26px #ffffff;
      text-stroke: 26px #ffffff;
      /* Sharp, low‚Äëopacity shadow tucked just under the sticker */
      filter:
        drop-shadow(0 10px 4px rgba(15, 23, 42, 0.28))
        drop-shadow(0 2px 0 rgba(255, 255, 255, 0.85));
      pointer-events: none;
    }

    .hero-subtitle {
      font-family: "Manrope-Medium", system-ui, sans-serif;
      font-size: clamp(18px, 2.2vw, 24px);
      color: var(--text-muted);
      max-width: 50ch;
      text-align: center;
    }

    .hero-meta {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-top: 32px;
      width: 100%;
      max-width: 100vw;
      overflow: hidden;
      position: relative;
      opacity: 0.85;
    }

    .hero-meta::before,
    .hero-meta::after {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      width: 150px;
      z-index: 2;
      pointer-events: none;
    }

    .hero-meta::before {
      left: 0;
      background: linear-gradient(to right, var(--bg-gradient-end) 0%, rgba(245, 245, 247, 0) 100%);
    }

    .hero-meta::after {
      right: 0;
      background: linear-gradient(to left, var(--bg-gradient-end) 0%, rgba(245, 245, 247, 0) 100%);
    }

    .skills-marquee {
      display: flex;
      gap: 12px;
      animation: scrollLeft 40s linear infinite;
      white-space: nowrap;
      will-change: transform;
    }

    .skills-marquee.reverse {
      animation: scrollRight 40s linear infinite;
    }

    .skill-pill {
      padding: 8px 16px;
      border-radius: 999px;
      background: var(--pill-bg);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
      font-size: 13px;
      color: var(--text-main);
      display: inline-block;
      flex-shrink: 0;
    }

    @keyframes scrollLeft {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }

    @keyframes scrollRight {
      0% {
        transform: translateX(-50%);
      }
      100% {
        transform: translateX(0);
      }
    }

    /* CASE STUDIES */
    #case-studies {
      width: 100%;
      padding: 80px 0;
      background: transparent;
    }

    .case-studies-container {
      max-width: 850px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .case-studies-heading {
      font-family: 'Freight Text Pro Semibold', serif;
      font-size: clamp(32px, 4vw, 48px);
      font-weight: 600;
      letter-spacing: -0.02em;
      margin-bottom: 48px;
      text-align: center;
    }

    .case-gallery {
      display: grid;
      grid-template-columns: 1fr;
      gap: 70px;
      width: 100%;
    }

    .case-card {
      background: var(--bg-elevated);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      cursor: pointer;
      position: relative;
      will-change: transform;
      transform: translateZ(0);
    }

    /* Removed box-shadow hover animation for performance */

    .case-visual {
      width: 100%;
      aspect-ratio: 20 / 7;
      overflow: hidden;
      position: relative;
      background: radial-gradient(circle at top left, var(--case-visual-bg-start), var(--case-visual-bg-end));
      transform: translateZ(0);
    }

    .case-visual img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      will-change: transform;
      transform: translateZ(0);
    }

    .case-content {
      padding: 18px 24px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .case-title {
      font-family: 'Freight Text Pro Semibold', serif;
      font-size: 18px;
      font-weight: 600;
      letter-spacing: -0.02em;
      line-height: 1.3;
      color: var(--text-main);
      margin: 0;
    }

    .case-desc {
      font-size: 13px;
      color: var(--text-muted);
      line-height: 1.6;
      margin: 0;
    }

    .case-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
      padding-top: 0;
    }

    .case-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .case-tag {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 12px;
      background: var(--accent-soft);
      color: var(--accent);
      font-weight: 500;
    }

    .case-study-label {
      font-size: 14px;
      color: var(--accent);
      font-weight: 500;
      opacity: 0;
      transform: translateX(-8px) translateZ(0);
      will-change: transform, opacity;
      pointer-events: none;
    }

    /* Case-study specific accents */
    .case-card--giveback .case-tag {
      background: var(--case1-accent-soft);
      color: var(--case1-accent);
    }

    .case-card--giveback .case-study-label {
      color: var(--case1-accent);
    }

    .case-card--aviary .case-tag {
      background: var(--case2-accent-soft);
      color: #8a8f98;
    }

    .case-card--aviary .case-study-label {
      color: #8a8f98;
    }

    body.dark-mode .case-card--aviary .case-tag,
    body.dark-mode .case-card--aviary .case-study-label {
      color: #b8bcc5;
    }

    .case-card--allan .case-tag {
      background: var(--case3-accent-soft);
      color: var(--case3-accent);
    }

    .case-card--allan .case-study-label {
      color: var(--case3-accent);
    }

    /* RESPONSIVE CASE STUDIES */
    @media (min-width: 768px) {
      .case-gallery {
        grid-template-columns: repeat(2, 1fr);
        gap: 40px;
      }
      
      .case-visual {
        aspect-ratio: 16 / 7;
      }
    }

    @media (min-width: 1024px) {
      .case-gallery {
        grid-template-columns: 1fr;
        gap: 70px;
      }
      
      .case-visual {
        aspect-ratio: 20 / 7;
      }
    }

    @media (max-width: 767px) {
      #case-studies {
        padding: 60px 0;
      }
      
      .case-studies-container {
        padding: 0 16px;
      }
      
      .case-gallery {
        gap: 40px;
      }
      
      .case-visual {
        aspect-ratio: 16 / 7;
      }
      
      .case-content {
        padding: 18px 20px;
      }
      
      .case-title {
        font-size: 18px;
      }
      
      .case-desc {
        font-size: 13px;
      }
      
      .case-footer {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }
    }

    /* DESIGN PROCESS */
    #design-process {
      width: 100%;
      padding: 100px 0;
      background: transparent;
    }

    .design-process-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .process-heading {
      font-family: 'Freight Text Pro Semibold', serif;
      font-size: clamp(32px, 4vw, 48px);
      font-weight: 600;
      letter-spacing: -0.02em;
      margin-bottom: 16px;
      text-align: center;
    }

    .process-intro {
      font-size: 16px;
      line-height: 1.7;
      color: var(--text-muted);
      text-align: center;
      max-width: 60ch;
      margin: 0 auto 48px;
    }

    .process-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 32px;
    }

    .process-card {
      background: var(--bg-elevated);
      border-radius: var(--radius-xl);
      padding: 36px;
      box-shadow: var(--shadow-lg);
      transition: transform 0.3s ease;
    }

    .process-card:hover {
      transform: translateY(-4px);
    }

    .process-card h3 {
      font-family: 'Freight Text Pro Semibold', serif;
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 12px;
      letter-spacing: -0.01em;
    }

    .process-card p {
      font-size: 15px;
      line-height: 1.7;
      color: var(--text-muted);
    }

    /* TOOLS SECTION */
    #tools {
      width: 100%;
      padding: 100px 0;
      background: transparent;
    }

    .tools-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .tools-heading {
      font-family: 'Freight Text Pro Semibold', serif;
      font-size: clamp(32px, 4vw, 48px);
      font-weight: 600;
      letter-spacing: -0.02em;
      margin-bottom: 16px;
      text-align: center;
    }

    .tools-intro {
      font-size: 16px;
      line-height: 1.7;
      color: var(--text-muted);
      text-align: center;
      max-width: 60ch;
      margin: 0 auto 48px;
    }

    .tools-marquee-wrapper {
      width: 100%;
      overflow: hidden;
      padding: 32px 0;
      position: relative;
    }

    .tools-marquee-wrapper::before,
    .tools-marquee-wrapper::after {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      width: 150px;
      z-index: 2;
      pointer-events: none;
    }

    .tools-marquee-wrapper::before {
      left: 0;
      background: linear-gradient(to right, var(--bg) 0%, transparent 100%);
    }

    .tools-marquee-wrapper::after {
      right: 0;
      background: linear-gradient(to left, var(--bg) 0%, transparent 100%);
    }

    .tools-marquee {
      display: flex;
      gap: 48px;
      animation: scrollLeft 30s linear infinite;
      will-change: transform;
    }

    .tools-marquee:hover {
      animation-play-state: paused;
    }

    .tool-icon {
      width: 64px;
      height: 64px;
      background: var(--bg-elevated);
      border-radius: 16px;
      box-shadow: var(--shadow-md);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: transform 0.3s ease;
    }

    .tool-icon:hover {
      transform: translateY(-4px);
    }

    .tool-icon svg {
      width: 36px;
      height: 36px;
      opacity: 0.7;
    }

    /* FOOTER */
    footer {
      padding-top: 32px;
      margin-top: 48px;
    }

    .footer-inner {
      display: flex;
      align-items: stretch;
      justify-content: space-between;
      gap: 24px;
      min-height: 220px;
    }

    .footer-text {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 8px 0 8px;
    }

    .footer-heading {
      font-family: 'Freight Text Pro Semibold', serif;
      font-size: clamp(30px, 3.2vw, 38px);
      font-weight: 600;
      letter-spacing: -0.04em;
      max-width: 8ch;
    }

    .footer-note {
      font-size: 13px;
      color: var(--text-muted);
      max-width: 26ch;
    }

    .footer-image-wrap {
      flex: 1.2;
      display: flex;
      justify-content: flex-end;
      align-items: flex-end;
      overflow: visible;
    }

    .footer-image {
      width: 100%;
      max-width: 420px;
      transform: translateX(8%);
      filter: drop-shadow(0 26px 60px rgba(0, 0, 0, 0.22));
    }

    /* FIXED FOOTER OVERLAY */
    .fixed-footer-overlay {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 70px;
      z-index: 999;
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      mask-image: linear-gradient(
        to top,
        rgba(0, 0, 0, 1) 0%,
        rgba(0, 0, 0, 0.85) 30%,
        rgba(0, 0, 0, 0.5) 60%,
        rgba(0, 0, 0, 0.2) 80%,
        rgba(0, 0, 0, 0) 100%
      );
      -webkit-mask-image: linear-gradient(
        to top,
        rgba(0, 0, 0, 1) 0%,
        rgba(0, 0, 0, 0.85) 30%,
        rgba(0, 0, 0, 0.5) 60%,
        rgba(0, 0, 0, 0.2) 80%,
        rgba(0, 0, 0, 0) 100%
      );
      background: linear-gradient(
        to top,
        rgba(245, 245, 247, 0.15) 0%,
        rgba(245, 245, 247, 0.1) 25%,
        rgba(245, 245, 247, 0.06) 50%,
        rgba(245, 245, 247, 0.03) 75%,
        rgba(245, 245, 247, 0) 100%
      );
      pointer-events: none;
      transition: background 0.3s ease;
    }

    body.dark-mode .fixed-footer-overlay {
      background: linear-gradient(
        to top,
        rgba(26, 26, 36, 0.15) 0%,
        rgba(26, 26, 36, 0.1) 25%,
        rgba(26, 26, 36, 0.06) 50%,
        rgba(26, 26, 36, 0.03) 75%,
        rgba(26, 26, 36, 0) 100%
      );
    }

    /* RESPONSIVE */
    @media (max-width: 900px) {
      .nav {
        padding: 0 16px;
      }

      .nav-right {
        gap: 12px;
      }

      .nav-right .nav-link-group {
        display: none;
      }

      .page {
        padding-inline: 16px;
      }

      .footer-inner {
        flex-direction: column;
      }

      .footer-image-wrap {
        justify-content: flex-start;
      }

      .footer-image {
        transform: translateX(0);
        max-width: 100%;
      }
    }

    @media (max-width: 600px) {
      .hero {
        padding-top: 4px;
      }

      .case-meta {
        flex-direction: column;
        align-items: flex-start;
      }

      .process-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Custom Cursor -->
  <div class="custom-cursor"></div>

  <!-- NAVBAR -->
  <header class="nav" id="nav">
    <div class="nav__inner">
      <div class="nav-left">
        <a href="/" class="brand-logo-link">
          <img src="img/avi brand logo.svg" alt="Avi logo" class="brand-logo" />
        </a>
      </div>
      <nav class="nav-center nav-link-group">
        <a class="nav-link" href="work.html">Work</a>
        <a class="nav-link" href="about.html">About</a>
        <a class="nav-link" href="playground.html" id="playground-link">Playground</a>
        <a class="nav-link" href="file:///Users/avi/Downloads/Avilenne%20Lara%20resume%202025-2026.pdf" target="_blank" rel="noopener noreferrer">Resume</a>
      </nav>
      <div class="nav-right">
        <a class="nav-link nav-link--primary" href="#contact" data-scroll>
          Contact
        </a>
        <button class="dark-mode-toggle" id="darkModeToggle" aria-label="Toggle dark mode">
          <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg class="moon-icon" style="display: none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <main id="top">
    <div class="page">
      <!-- HERO -->
      <section class="hero" id="about">
        <h1 class="hero-title">
          <span aria-hidden="true" class="hero-title-outline">
            Hi, I'm Avilenne Lara!
          </span>
          <span class="hero-title-main">
            Hi, I'm Avilenne Lara!
          </span>
        </h1>
        <p class="hero-subtitle">
          A UX designer driven by ‚òÜ curiosity, ‚ùÄ care, and êôö the belief that technology should feel human.
        </p>
      </section>
    </div>
  </main>

  <!-- CASE STUDIES -->
  <section id="case-studies">
    <div class="case-studies-container">
      <h2 class="case-studies-heading">Case Studies Gallery</h2>
      <div class="case-gallery">
        <!-- Case 1 -->
        <article class="case-card case-card--giveback" data-case-study="case-study-1.html">
          <div class="case-visual">
            <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='675' viewBox='0 0 1200 675'><defs><linearGradient id='grad1' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%23e5f1ff'/><stop offset='100%' stop-color='%23cce5ff'/></linearGradient></defs><rect width='1200' height='675' fill='url(%23grad1)'/><rect x='200' y='150' width='800' height='375' rx='24' fill='%23ffffff' opacity='0.9'/><rect x='250' y='200' width='500' height='20' rx='10' fill='%230071e3' opacity='0.3'/><rect x='250' y='240' width='400' height='20' rx='10' fill='%230071e3' opacity='0.2'/><rect x='250' y='280' width='450' height='20' rx='10' fill='%230071e3' opacity='0.2'/><circle cx='900' cy='300' r='60' fill='%230071e3' opacity='0.15'/></svg>" alt="The Giveback donation kiosk" />
          </div>
          <div class="case-content">
            <h3 class="case-title">The Giveback ‚Äì Partners In Health Donation Kiosk</h3>
            <p class="case-desc">
              A donation kiosk concept for Partners In Health that turns busy commuters into confident donors at Toronto's Union Station.
            </p>
            <div class="case-footer">
              <div class="case-tags">
                <span class="case-tag">Research</span>
                <span class="case-tag">Interaction</span>
                <span class="case-tag">UI</span>
                <span class="case-tag">Service</span>
              </div>
              <span class="case-study-label">Case study ‚Üí</span>
            </div>
          </div>
        </article>

        <!-- Case 2 -->
        <article class="case-card case-card--aviary" data-case-study="case-study-2.html">
          <div class="case-visual">
            <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='675' viewBox='0 0 1200 675'><defs><linearGradient id='grad2' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%23f5f6f8'/><stop offset='100%' stop-color='%23e5e7eb'/></linearGradient></defs><rect width='1200' height='675' fill='url(%23grad2)'/><rect x='150' y='120' width='900' height='435' rx='24' fill='%23ffffff' opacity='0.95'/><rect x='200' y='180' width='600' height='15' rx='7.5' fill='%23cfd4db' opacity='0.4'/><rect x='200' y='220' width='500' height='15' rx='7.5' fill='%23cfd4db' opacity='0.3'/><rect x='200' y='260' width='550' height='15' rx='7.5' fill='%23cfd4db' opacity='0.3'/><rect x='200' y='320' width='300' height='80' rx='12' fill='%23cfd4db' opacity='0.2'/></svg>" alt="The Aviary" />
          </div>
          <div class="case-content">
            <h3 class="case-title">The Aviary</h3>
            <p class="case-desc">
              A web-based AR escape room set inside a hand-drawn 360¬∞ studio, built with A-Frame and custom illustration.
            </p>
            <div class="case-footer">
              <div class="case-tags">
                <span class="case-tag">AR</span>
                <span class="case-tag">WebXR</span>
                <span class="case-tag">Illustration</span>
                <span class="case-tag">Development</span>
              </div>
              <span class="case-study-label">Case study ‚Üí</span>
            </div>
          </div>
        </article>

        <!-- Case 3 -->
        <article class="case-card case-card--allan" data-case-study="case-study-3.html">
          <div class="case-visual">
            <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='675' viewBox='0 0 1200 675'><defs><linearGradient id='grad3' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%23fce5e5'/><stop offset='100%' stop-color='%23f8d0d1'/></linearGradient></defs><rect width='1200' height='675' fill='url(%23grad3)'/><rect x='180' y='100' width='840' height='475' rx='24' fill='%23ffffff' opacity='0.92'/><rect x='230' y='160' width='700' height='18' rx='9' fill='%23e67e80' opacity='0.35'/><rect x='230' y='200' width='600' height='18' rx='9' fill='%23e67e80' opacity='0.25'/><rect x='230' y='240' width='650' height='18' rx='9' fill='%23e67e80' opacity='0.25'/><rect x='230' y='300' width='200' height='120' rx='16' fill='%23e67e80' opacity='0.15'/><rect x='460' y='300' width='200' height='120' rx='16' fill='%23e67e80' opacity='0.15'/></svg>" alt="Allan Gardens Wayfinding" />
          </div>
          <div class="case-content">
            <h3 class="case-title">Allan Gardens Wayfinding</h3>
            <p class="case-desc">
              A parking-lot wayfinding system for a historic conservatory, connecting circulation diagrams, signage, and visitor comfort.
            </p>
            <div class="case-footer">
              <div class="case-tags">
                <span class="case-tag">Wayfinding</span>
                <span class="case-tag">Information Architecture</span>
                <span class="case-tag">Spatial Design</span>
              </div>
              <span class="case-study-label">Case study ‚Üí</span>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- SKILLS MARQUEE -->
  <section aria-label="Skills">
    <div class="page">
      <div class="hero-meta">
        <div class="skills-marquee">
          <span class="skill-pill">UX Design</span>
          <span class="skill-pill">UI Design</span>
          <span class="skill-pill">Interaction Design</span>
          <span class="skill-pill">User Research</span>
          <span class="skill-pill">Prototyping</span>
          <span class="skill-pill">Visual Design</span>
          <span class="skill-pill">Design Systems</span>
          <!-- Duplicate for seamless loop -->
          <span class="skill-pill">UX Design</span>
          <span class="skill-pill">UI Design</span>
          <span class="skill-pill">Interaction Design</span>
          <span class="skill-pill">User Research</span>
          <span class="skill-pill">Prototyping</span>
          <span class="skill-pill">Visual Design</span>
          <span class="skill-pill">Design Systems</span>
        </div>
        <div class="skills-marquee reverse">
          <span class="skill-pill">Figma</span>
          <span class="skill-pill">Service Design</span>
          <span class="skill-pill">Information Architecture</span>
          <span class="skill-pill">Wireframing</span>
          <span class="skill-pill">Usability Testing</span>
          <span class="skill-pill">Brand Design</span>
          <span class="skill-pill">Product Thinking</span>
          <!-- Duplicate for seamless loop -->
          <span class="skill-pill">Figma</span>
          <span class="skill-pill">Service Design</span>
          <span class="skill-pill">Information Architecture</span>
          <span class="skill-pill">Wireframing</span>
          <span class="skill-pill">Usability Testing</span>
          <span class="skill-pill">Brand Design</span>
          <span class="skill-pill">Product Thinking</span>
        </div>
      </div>
    </div>
  </section>

  <!-- DESIGN PROCESS -->
  <section id="design-process">
    <div class="design-process-container">
      <h2 class="process-heading">My Design Process</h2>
      <p class="process-intro">
        My design process always starts with context and people. I clarify constraints, map what success looks like, and gather stories or data about the problem. From there I sketch flows and structures on paper, then move into Figma or code to prototype the interaction. I test concepts early, even in rough form, and adjust hierarchy, motion, and copy based on how people actually move through the experience. Throughout the project I document decisions so research, visuals, and implementation stay connected.
      </p>
      <div class="process-grid">
        <div class="process-card">
          <h3>Discover & Strategize</h3>
          <p>
            I start by understanding the problem space through research, stakeholder interviews, and competitive analysis. This phase is about asking the right questions and defining what success looks like.
          </p>
        </div>
        <div class="process-card">
          <h3>Ideate & Prototype</h3>
          <p>
            Armed with insights, I explore multiple solutions through sketches, wireframes, and low-fidelity prototypes. This is where ideas get tested quickly and cheaply before committing to high-fidelity work.
          </p>
        </div>
        <div class="process-card">
          <h3>Design & Refine</h3>
          <p>
            I translate validated concepts into polished, pixel-perfect interfaces with attention to interaction details, accessibility, and design system consistency. Every element serves a purpose.
          </p>
        </div>
        <div class="process-card">
          <h3>Test & Iterate</h3>
          <p>
            Real users always surprise you. I conduct usability testing, gather feedback, and iterate based on what I learn. Good design is never finished‚Äîit just gets better with each cycle.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- TOOLS -->
  <section id="tools">
    <div class="tools-container">
      <h2 class="tools-heading">Tools that power my every day</h2>
      <p class="tools-intro">
        The right tools make all the difference. Here's what I use to bring ideas to life.
      </p>
      <div class="tools-marquee-wrapper">
        <div class="tools-marquee">
          <div class="tool-icon" title="Figma">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 0H8.5C6.01 0 4 2.01 4 4.5S6.01 9 8.5 9h3.5V4.5c0-2.49 2.01-4.5 4.5-4.5zM8.5 10.5c-2.49 0-4.5 2.01-4.5 4.5S6.01 19.5 8.5 19.5s4.5-2.01 4.5-4.5v-4.5H8.5zM15.5 10.5c2.49 0 4.5-2.01 4.5-4.5S17.99 1.5 15.5 1.5 11 3.51 11 6v4.5h4.5z"/></svg>
          </div>
          <div class="tool-icon" title="Notion">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 4l16 0 0 16-16 0z"/></svg>
          </div>
          <div class="tool-icon" title="Framer">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 0h16v8H12v8L4 8V0z"/></svg>
          </div>
          <div class="tool-icon" title="Photoshop">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M2 2h20v20H2V2zm8 16.5V14H8.5c-1.38 0-2.5-1.12-2.5-2.5S7.12 9 8.5 9H10V6h2v3h1.5c1.38 0 2.5 1.12 2.5 2.5S14.88 14 13.5 14H12v4.5h-2z"/></svg>
          </div>
          <div class="tool-icon" title="ChatGPT">
            <svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10"/></svg>
          </div>
          <div class="tool-icon" title="Miro">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 4h6v16H4V4zm10 0h6v10h-6V4z"/></svg>
          </div>
          <div class="tool-icon" title="Sketch">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 8l10 6 10-6-10-6zm0 14l-10-6v8l10 6 10-6v-8l-10 6z"/></svg>
          </div>
          <!-- Duplicate for seamless loop -->
          <div class="tool-icon" title="Figma">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 0H8.5C6.01 0 4 2.01 4 4.5S6.01 9 8.5 9h3.5V4.5c0-2.49 2.01-4.5 4.5-4.5zM8.5 10.5c-2.49 0-4.5 2.01-4.5 4.5S6.01 19.5 8.5 19.5s4.5-2.01 4.5-4.5v-4.5H8.5zM15.5 10.5c2.49 0 4.5-2.01 4.5-4.5S17.99 1.5 15.5 1.5 11 3.51 11 6v4.5h4.5z"/></svg>
          </div>
          <div class="tool-icon" title="Notion">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 4l16 0 0 16-16 0z"/></svg>
          </div>
          <div class="tool-icon" title="Framer">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 0h16v8H12v8L4 8V0z"/></svg>
          </div>
          <div class="tool-icon" title="Photoshop">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M2 2h20v20H2V2zm8 16.5V14H8.5c-1.38 0-2.5-1.12-2.5-2.5S7.12 9 8.5 9H10V6h2v3h1.5c1.38 0 2.5 1.12 2.5 2.5S14.88 14 13.5 14H12v4.5h-2z"/></svg>
          </div>
          <div class="tool-icon" title="ChatGPT">
            <svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10"/></svg>
          </div>
          <div class="tool-icon" title="Miro">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 4h6v16H4V4zm10 0h6v10h-6V4z"/></svg>
          </div>
          <div class="tool-icon" title="Sketch">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 8l10 6 10-6-10-6zm0 14l-10-6v8l10 6 10-6v-8l-10 6z"/></svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="page">
    <!-- Dummy anchors to satisfy nav links (kept visually minimal) -->
    <section id="work" style="height: 1px;"></section>
    <section id="process" style="height: 1px;"></section>
    <section id="journal" style="height: 1px;"></section>
    <section id="contact" style="height: 1px;"></section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-inner">
          <div class="footer-text">
            <h2 class="footer-heading">Let‚Äôs work together.</h2>
            <p class="footer-note">
              Send a brief, a problem, or a half-finished idea. The first step
              is a simple outline of what needs to feel better.
            </p>
          </div>
          <div class="footer-image-wrap">
            <!-- big image, allowed to overflow -->
            <img
              class="footer-image"
              alt="Abstract light panel mockup"
              src="data:image/svg+xml;utf8,
                <svg xmlns='http://www.w3.org/2000/svg' width='900' height='600' viewBox='0 0 900 600'>
                  <defs>
                    <linearGradient id='bg' x1='0%' y1='0%' x2='100%' y2='100%'>
                      <stop offset='0%' stop-color='%23f5f5f7'/>
                      <stop offset='100%' stop-color='%23e4e4ea'/>
                    </linearGradient>
                    <linearGradient id='panel' x1='0%' y1='0%' x2='100%' y2='100%'>
                      <stop offset='0%' stop-color='%23ffffff'/>
                      <stop offset='100%' stop-color='%23f1f6ff'/>
                    </linearGradient>
                  </defs>
                  <rect width='900' height='600' fill='url(%23bg)' rx='80'/>
                  <g transform='translate(140,90)'>
                    <rect x='0' y='0' width='620' height='380' rx='48' fill='url(%23panel)' />
                    <rect x='46' y='64' width='320' height='7' rx='3.5' fill='%23d0d3dd' opacity='0.8'/>
                    <rect x='46' y='102' width='260' height='7' rx='3.5' fill='%23d0d3dd' opacity='0.66'/>
                    <rect x='46' y='140' width='200' height='7' rx='3.5' fill='%23d0d3dd' opacity='0.54'/>
                    <rect x='46' y='204' width='210' height='18' rx='9' fill='%230071e3' opacity='0.18'/>
                    <rect x='46' y='244' width='160' height='18' rx='9' fill='%230071e3' opacity='0.10'/>
                    <rect x='380' y='64' width='160' height='120' rx='24' fill='%23ecefff'/>
                    <circle cx='460' cy='124' r='40' fill='%23ffffff'/>
                    <circle cx='460' cy='124' r='20' fill='%230071e3' opacity='0.85'/>
                  </g>
                </svg>"
            />
          </div>
        </div>
      </footer>
    </div>

  <!-- Fixed Footer Overlay -->
  <div class="fixed-footer-overlay"></div>

  <!-- GSAP & Plugins -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <!-- Universal Page Transitions -->
  <script src="js/page-transitions.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
  
  <script>
    // Register GSAP plugins
    gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);
    
    // Store ScrollTrigger instances to prevent recreation
    const storedScrollTriggers = new Map();

    // Smooth scroll for in-page nav links with GSAP
    document.querySelectorAll("[data-scroll]").forEach(function (link) {
      link.addEventListener("click", function (event) {
        const href = link.getAttribute("href");
        if (!href || !href.startsWith("#")) return;
        event.preventDefault();
        const target = document.querySelector(href);
        if (!target) return;
        
        gsap.to(window, {
          duration: 1.2,
          scrollTo: { y: target, offsetY: 80 },
          ease: "power3.inOut"
        });
      });
    });

    // Navbar floating pill animation
    const nav = document.getElementById("nav");
    
    function handleNavbarScroll() {
      if (window.scrollY > 80) {
        nav.classList.add("nav--floating");
      } else {
        nav.classList.remove("nav--floating");
      }
    }
    
    // Throttle scroll events for better performance
    let ticking = false;
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          handleNavbarScroll();
          ticking = false;
        });
        ticking = true;
      }
    });
    
    // Check initial scroll position
    handleNavbarScroll();

    // ===== HERO ANIMATIONS =====
    
    // Hero kicker fade in from left
    gsap.from(".hero-kicker", {
      opacity: 0,
      x: -50,
      duration: 1,
      ease: "power3.out",
      delay: 0.2
    });

    // Hero title (sticker heading) fade in
    gsap.from(".hero-title", {
      opacity: 0,
      y: 24,
      duration: 0.9,
      ease: "power3.out",
      delay: 0.35
    });

    // Hero subtitle fade up
    gsap.from(".hero-subtitle", {
      opacity: 0,
      y: 30,
      duration: 1,
      ease: "power3.out",
      delay: 0.8
    });

    // Skills marquee fade in on scroll (hero skills slider)
    if (!storedScrollTriggers.has('skills-marquee')) {
      const skillsTrigger = gsap.from(".skills-marquee", {
        scrollTrigger: {
          trigger: ".hero-meta",
          start: "top 80%",
          toggleActions: "play none none none",
          once: true
        },
        opacity: 0,
        y: 20,
        duration: 0.8,
        stagger: 0.15,
        ease: "power3.out"
      });
      storedScrollTriggers.set('skills-marquee', skillsTrigger);
    }

    // ===== SCROLL-TRIGGERED ANIMATIONS =====

    // Case study cards individual reveal animation - optimized
    // Each card animates independently when it enters the viewport
    document.querySelectorAll(".case-card").forEach((card, index) => {
      const triggerId = `case-card-${index}`;
      if (!storedScrollTriggers.has(triggerId)) {
        const trigger = gsap.from(card, {
        scrollTrigger: {
          trigger: card,
          start: "top 80%",
          toggleActions: "play none none none",
          once: true
        },
        opacity: 0,
          y: 30,
          duration: 0.6,
          ease: "power2.out"
      });
        storedScrollTriggers.set(triggerId, trigger);
      }
    });

    // Optimized hover interactions for case cards - single timeline with overwrite
    document.querySelectorAll(".case-card").forEach(card => {
      const image = card.querySelector(".case-visual img");
      const label = card.querySelector(".case-study-label");
      let hoverTimeline = null;
      
      card.addEventListener("mouseenter", () => {
        // Kill any existing animation
        if (hoverTimeline) hoverTimeline.kill();
        
        // Create single timeline for all hover animations
        hoverTimeline = gsap.timeline({ overwrite: true });
        
        hoverTimeline.to(card, {
          y: -8,
          duration: 0.3,
          ease: "power2.out"
        }, 0);
        
        if (image) {
          hoverTimeline.to(image, {
            scale: 1.08,
            duration: 0.4,
            ease: "power2.out"
          }, 0);
        }
        
        if (label) {
          hoverTimeline.to(label, {
            opacity: 1,
            x: 0,
            duration: 0.25,
            ease: "power2.out"
          }, 0);
        }
      });
      
      card.addEventListener("mouseleave", () => {
        // Kill any existing animation
        if (hoverTimeline) hoverTimeline.kill();
        
        // Create single timeline for all leave animations
        hoverTimeline = gsap.timeline({ overwrite: true });
        
        hoverTimeline.to(card, {
          y: 0,
          duration: 0.3,
          ease: "power2.out"
        }, 0);
        
        if (image) {
          hoverTimeline.to(image, {
            scale: 1,
            duration: 0.4,
            ease: "power2.out"
          }, 0);
        }
        
        if (label) {
          hoverTimeline.to(label, {
            opacity: 0,
            x: -8,
            duration: 0.25,
            ease: "power2.out"
          }, 0);
        }
      });
    });

    // Case Studies heading animation - only create once
    if (!storedScrollTriggers.has('case-studies-heading')) {
      const headingTrigger = gsap.from(".case-studies-heading", {
      scrollTrigger: {
        trigger: "#case-studies",
        start: "top 80%",
        toggleActions: "play none none none",
        once: true
      },
      opacity: 0,
        y: 20,
        duration: 0.6,
        ease: "power2.out"
    });
      storedScrollTriggers.set('case-studies-heading', headingTrigger);
    }

    // Design Process section animation - optimized, only create once
    if (!storedScrollTriggers.has('process-heading')) {
      const processHeadingTrigger = gsap.from(".process-heading", {
      scrollTrigger: {
        trigger: "#design-process",
        start: "top 80%",
        toggleActions: "play none none none",
        once: true
      },
      opacity: 0,
        y: 20,
        duration: 0.6,
        ease: "power2.out"
    });
      storedScrollTriggers.set('process-heading', processHeadingTrigger);
    }

    if (!storedScrollTriggers.has('process-intro')) {
      const processIntroTrigger = gsap.from(".process-intro", {
      scrollTrigger: {
        trigger: "#design-process",
        start: "top 80%",
        toggleActions: "play none none none",
        once: true
      },
      opacity: 0,
        y: 15,
        duration: 0.6,
        delay: 0.1,
        ease: "power2.out"
    });
      storedScrollTriggers.set('process-intro', processIntroTrigger);
    }

    if (!storedScrollTriggers.has('process-cards')) {
      const processCardsTrigger = gsap.from(".process-card", {
      scrollTrigger: {
        trigger: "#design-process",
        start: "top 75%",
        toggleActions: "play none none none",
        once: true
      },
      opacity: 0,
        y: 25,
        stagger: 0.1,
        duration: 0.6,
        delay: 0.2,
        ease: "power2.out"
    });
      storedScrollTriggers.set('process-cards', processCardsTrigger);
    }

    // Tools section animation - optimized, only create once
    if (!storedScrollTriggers.has('tools-heading')) {
      const toolsHeadingTrigger = gsap.from(".tools-heading", {
      scrollTrigger: {
        trigger: "#tools",
        start: "top 80%",
        toggleActions: "play none none none",
        once: true
      },
      opacity: 0,
        y: 20,
        duration: 0.6,
        ease: "power2.out"
    });
      storedScrollTriggers.set('tools-heading', toolsHeadingTrigger);
    }

    if (!storedScrollTriggers.has('tools-intro')) {
      const toolsIntroTrigger = gsap.from(".tools-intro", {
      scrollTrigger: {
        trigger: "#tools",
        start: "top 80%",
        toggleActions: "play none none none",
        once: true
      },
      opacity: 0,
        y: 15,
        duration: 0.6,
        delay: 0.1,
        ease: "power2.out"
    });
      storedScrollTriggers.set('tools-intro', toolsIntroTrigger);
    }

    if (!storedScrollTriggers.has('tools-marquee')) {
      const toolsMarqueeTrigger = gsap.from(".tools-marquee-wrapper", {
      scrollTrigger: {
        trigger: "#tools",
        start: "top 75%",
        toggleActions: "play none none none",
        once: true
      },
      opacity: 0,
        y: 20,
        duration: 0.6,
        delay: 0.2,
        ease: "power2.out"
    });
      storedScrollTriggers.set('tools-marquee', toolsMarqueeTrigger);
    }

    // ===== FOOTER ANIMATIONS =====

    // Footer heading
    gsap.from(".footer-heading", {
      scrollTrigger: {
        trigger: "footer",
        start: "top 80%",
        toggleActions: "play none none reverse"
      },
      opacity: 0,
      x: -50,
      duration: 1,
      ease: "power3.out"
    });

    // Footer note
    gsap.from(".footer-note", {
      scrollTrigger: {
        trigger: "footer",
        start: "top 80%",
        toggleActions: "play none none reverse"
      },
      opacity: 0,
      y: 30,
      duration: 1,
      delay: 0.2,
      ease: "power3.out"
    });

    // Footer image - slide in from right with rotation
    gsap.from(".footer-image", {
      scrollTrigger: {
        trigger: "footer",
        start: "top 80%",
        toggleActions: "play none none reverse"
      },
      opacity: 0,
      x: 100,
      rotation: 5,
      duration: 1.2,
      delay: 0.3,
      ease: "power3.out"
    });

    // ===== INTERACTIVE HOVER ANIMATIONS (OPTIMIZED) =====

    // Logo hover - optimized with overwrite
    const logo = document.querySelector(".logo");
    if (logo) {
      logo.addEventListener("mouseenter", () => {
        gsap.to(".logo-mark", {
          rotation: 360,
          scale: 1.1,
          duration: 0.5,
          ease: "power2.out",
          overwrite: true
        });
      });
      logo.addEventListener("mouseleave", () => {
        gsap.to(".logo-mark", {
          rotation: 0,
          scale: 1,
          duration: 0.3,
          ease: "power2.out",
          overwrite: true
        });
      });
    }

    // Nav links hover - optimized with CSS transitions (no GSAP needed)
    // Removed GSAP animations for nav links as CSS handles this more efficiently

    // Hero pills hover removed - these don't exist anymore (replaced by marquee)

    // ===== CONTINUOUS ANIMATIONS =====

    // Hero kicker dot pulse
    gsap.to(".hero-kicker-dot", {
      scale: 1.2,
      opacity: 0.7,
      duration: 1.5,
      repeat: -1,
      yoyo: true,
      ease: "power1.inOut"
    });

    // Parallax effect removed for performance - was causing lag

    // ===== DARK MODE TOGGLE =====
    
    const darkModeToggle = document.getElementById("darkModeToggle");
    const sunIcon = darkModeToggle.querySelector(".sun-icon");
    const moonIcon = darkModeToggle.querySelector(".moon-icon");
    
    // Check for saved dark mode preference
    const isDarkMode = localStorage.getItem("darkMode") === "true";
    if (isDarkMode) {
      document.body.classList.add("dark-mode");
      sunIcon.style.display = "none";
      moonIcon.style.display = "block";
    }
    
    // Toggle dark mode
    darkModeToggle.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      const isNowDark = document.body.classList.contains("dark-mode");
      
      // Toggle icons
      if (isNowDark) {
        sunIcon.style.display = "none";
        moonIcon.style.display = "block";
      } else {
        sunIcon.style.display = "block";
        moonIcon.style.display = "none";
      }
      
      // Save preference
      localStorage.setItem("darkMode", isNowDark);
    });
    
    // ===== CUSTOM CURSOR =====
    
    const cursor = document.querySelector('.custom-cursor');
    let mouseX = 0;
    let mouseY = 0;
    let cursorX = 0;
    let cursorY = 0;
    
    // Track mouse position
    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });
    
    // Smooth cursor follow with GSAP - optimized with requestAnimationFrame
    let rafId = null;
    function updateCursor() {
      const dx = mouseX - cursorX;
      const dy = mouseY - cursorY;
      
      cursorX += dx * 0.2;
      cursorY += dy * 0.2;
      
      cursor.style.left = cursorX + 'px';
      cursor.style.top = cursorY + 'px';
      
      rafId = requestAnimationFrame(updateCursor);
    }
    updateCursor();
    
    // Detect hovering over interactive elements
    const interactiveElements = document.querySelectorAll('a, button, .case-card, .nav-link, .hero-pill, .dark-mode-toggle, .case-study-link');
    
    interactiveElements.forEach(element => {
      element.addEventListener('mouseenter', () => {
        document.body.classList.add('hovering-link');
      });
      
      element.addEventListener('mouseleave', () => {
        document.body.classList.remove('hovering-link');
      });
    });
    
    // ===== PAGE TRANSITIONS =====
    
    // Centralized transition helper - performant and smooth
    // Page transitions are now handled by js/page-transitions.js

    console.log("üé® GSAP Animations Loaded!");
  </script>
</body>
</html>
